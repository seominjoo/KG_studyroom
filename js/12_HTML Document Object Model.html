<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML Document Object Model</title>
    <style>
        body {
            background-color: silver;
        }
    </style>
</head>

<body>

    <h3># Document Object Model</h3>

    <ul>
        <li>HTML코드를 브라우저가 해석하여 만들어놓은 전체 HTML 객체</li>
        <li>자바스크립트는 DOM을 이용해 원하는 HTML요소를 추가/수정/삭제 할 수 있다</li>
    </ul>

    <h3># 메서드를 이용하지 않아도 찾을 수 있는 요소들</h3>
    <ul>
        <li>document.head</li>
        <li>document.body</li>
        <li>document.forms : 현재 페이지에 등록된 모든 form태그들로 이루어진 객체</li>
        <li>document.anchors : 현재 페이지에 등록된 모든 a 태그들로 이루어진 객체</li>
        <li>document.links : ...</li>
        <li>document.images : ...</li>
        <li>document.script : ...</li>
    </ul>

    <!-- <script>
        var value = 0;
        document.getElementById.innerText = `<div>${value}</div>`
    </script> -->

    <h3># HTML 요소를 추가하는 DOM 메서드</h3>
    <ul>
        <li>innerHTML</li>
        <li>innerText</li>
        <li>document.write() : DOM의 맨 마지막에 새로운 요소를 추가</li>
        <li>document.createElement("tagname") : 새로운 요소 객체를 생성한다</li>
        <li>
            element.appendChild(newElement) : 해당 요소의 맨 뒤에 자식 요소를 추가한다 <br>
            ex: document.body.appendChild(document.createElement("p")); - body에 새로운 p태그 요소 추가
        </li>
    </ul>

    <div id="div1" class="danger big">content</div>
    <div id="div2" class="danger big">content</div>
    <div id="div3" class="danger small">content</div>
    <div id="div4" class="warning depricated big">content</div>
    <div id="div5" class="warning small">content</div>

    <hr>

    <div id="parent">
        <div>첫 번째 자식</div>
        <div>두 번째 자식</div>
    </div>

    <script>
        // console.dir() : 전달한 obj를 콘솔에 디렉토리 형식으로 보여줌
        console.dir(document);
        document.write('<p> 추가된 내용 </p>');
        /* 
            # DOM의 HTML 요소를 찾는 메서드들
    
            - Vanilla JS의 경우
            document.getElementById() : id 속성을 이용해 HTML 요소에 접근한다 (같은 id가 여러개 있으면 맨 앞의 것 반환)
            document.getElementsByClassName() : class 속성 이용해 HTML요소들의 배열을 반환 받는다
            document.getElementsByTagName() : 태그 이름을 이용해 여러 HTML 요소들의 배열 반환 받음
            document.querySelector() : CSS선택자를 이용해 HTML 요소 하나를 반환 받는다
            document.querySelectorAll() : CSS선택자를 이용해 HTML 요소 여러개를 배열로 반환 받음
    
            - Jquery의 경우
            $("#p").
        */
        danger_elements = document.getElementsByClassName("danger");
        console.log(danger_elements instanceof HTMLCollection); // 배열이 아닌 HTMLCollection 
        for (e of danger_elements) {
            e.style.color = 'tomato';
        }

        warning_elements = document.getElementsByClassName("warning");
        for (e of warning_elements) {
            e.style.color = 'gold';
        }

        // 클래스 여러 개로 검색
        warning_big_elements = document.getElementsByClassName('warning big');
        for (e of warning_big_elements) {
            console.log(e);
        }

        var parentElement = document.getElementById('parent');
        var targetElement = document.querySelector('#parent > div:first-child');

        var newElement1 = document.createElement('div');
        newElement1.style.backgroundColor = 'black';// -가 들어가는 css property는 자바스크립트에서 camelCase로 변환해야 한다
        newElement1.style.color = 'white';
        newElement1.innerText = '입양한 자식 1';

        var newElement2 = document.createElement('div');
        newElement2.style.backgroundColor = 'black';
        newElement2.style.color = 'white';
        newElement2.innerText = '입양한 자식 2';

        // # 스타일 말고 다른 속성들도 채울 수 있다
        var newElement3 = document.createElement('img');
        newElement3.src = "../assets/image/1.png";
        newElement3.alt = "펭귄 그린 그림";
        newElement3.style.width = "100px";
        newElement3.style.height = "auto"; // 자동 맞춤

        // # 자식 요소 추가
        parentElement.appendChild(newElement1); // 부모의 맨 뒤에 추가
        parentElement.insertBefore(newElement2, targetElement); // 원하는 요소의 앞에 추가
        parentElement.appendChild(newElement3);

        // targetElement = document.querySelector('#parent > div:first-child');

        parentElement.removeChild(targetElement); // 자식 요소 삭제

        // # Node (DOM에서 하나의 요소를 나타내는 클래스)
        //   - http://developer.mozilla.org/en-US/docs/Web/API/Node
        console.log('createElement 메서드의 리턴 타입은 is Node class: ', newElement1 instanceof Node);
        console.log('getElementById 메서드의 리턴 타입은 Node입니다: ', parentElement instanceof Node);

        // # HTMLCollection (documents.getElements 시리즈)
        // - https://developer.mozilla.org/en-US/docs/Web/API/HTMLCollection
        console.log('by class name:', document.getElementsByClassName('danger') instanceof HTMLCollection); // true
     
        console.log('by tag name:', document.getElementsByTagName('div') instanceof HTMLCollection); // true


        console.log('by tag name:', document.getElementsByTagName('div') instanceof NodeList); // false

        console.log(document.getElementsByTagName('div'));

        // for(a of document.getElementsByTagName('div')){
        //     console.log(a instanceof );
        // }

        // # NodeList (querySelectorAll()의 리턴 타입)
        // - https://developer.mozilla.org/en-US/docs/Web/API/NodeList
        console.log('is HTMLCollection:', document.querySelectorAll('div') instanceof HTMLCollection); // false
        console.log('is NodeList:', document.querySelectorAll('div') instanceof NodeList); // true
        console.log(document.querySelectorAll('div'));
        // for(a of document.querySelectorAll('div')){
        //     console.log(a);
        // }
    </script>

</body>

</html>